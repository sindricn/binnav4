# GitHub Release 自动发布说明

## 🚀 如何发布新版本

本项目使用 GitHub Actions 自动发布 Release，通过创建标签来触发发布流程。

### 1. 创建带描述的标签并推送

```bash
# 创建带描述的标签（推荐）
git tag -a v1.0.0 -m "修复了网站图标显示问题，优化了搜索功能"

# 或者创建简单标签
git tag v1.0.0

# 推送标签到远程仓库
git push origin v1.0.0
```

### 2. 支持的标签格式

- **正式版本**: `v1.0.0`, `v2.1.3`, `v1.2.0`
- **预发布版本**: `v1.0.0-beta.1`, `v2.0.0-alpha.1`, `v1.1.0-rc.1`

### 3. 自动化流程

当推送标签后，GitHub Actions 会自动：

1. ✅ **检出代码** - 获取最新代码
2. ✅ **设置环境** - 配置 Node.js 18 环境
3. ✅ **安装依赖** - 运行 `npm ci`
4. ✅ **运行测试** - 执行 `npm test`（如果存在）
5. ✅ **构建验证** - 运行 `npm run build` 验证构建成功
6. ✅ **获取标签描述** - 提取标签的注释信息
7. ✅ **创建 Release** - 使用标签描述作为发布说明

### 4. Release 内容

每个 Release 会包含：

- **版本信息** - 版本号和发布时间
- **标签描述** - 创建标签时添加的描述信息
- **预发布标识** - 自动识别预发布版本（如包含 -alpha、-beta 等）

### 5. 预发布版本

如果标签包含 `-alpha`、`-beta`、`-rc` 等预发布标识，会自动标记为预发布版本。

### 6. 权限说明

使用 `softprops/action-gh-release` 插件的优势：

- ✅ **自动权限处理** - 无需手动配置复杂的权限
- ✅ **内置功能** - 支持预发布、草稿、文件上传等
- ✅ **错误处理** - 更好的错误提示和重试机制
- ✅ **社区维护** - 活跃的社区支持和更新

### 7. 示例操作

```bash
# 发布正式版本（带描述）
git tag -a v1.0.0 -m "新增网站管理功能，修复图标显示问题"
git push origin v1.0.0

# 发布预发布版本（带描述）
git tag -a v1.1.0-beta.1 -m "测试版本：新增拖拽排序功能"
git push origin v1.1.0-beta.1

# 发布简单版本（无描述）
git tag v1.0.1
git push origin v1.0.1

# 查看所有标签
git tag -l

# 查看标签描述
git tag -l --format='%(refname:short): %(contents)' v1.0.0

# 删除本地标签
git tag -d v1.0.0

# 删除远程标签
git push origin --delete v1.0.0
```

### 8. 注意事项

- 📝 **标签描述** - 建议为标签添加清晰的描述信息，这将作为 Release 的说明
- 🏷️ **标签命名** - 严格遵循语义化版本规范（v1.0.0 格式）
- 🔍 **测试验证** - 发布前确保代码已经过充分测试
- 📦 **构建检查** - 确保 `npm run build` 能正常执行
- 🎯 **描述简洁** - 标签描述会直接显示为 Release 说明，保持简洁明了

---

**💡 提示**:
- 如果创建标签时没有添加描述，Release 将使用默认标题
- 可以在 GitHub 网页端编辑已发布的 Release 内容
- 推荐使用 `git tag -a` 创建带注释的标签
